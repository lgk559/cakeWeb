import{u as m,d,o as y,e as _,a as s,c as o,b as t,f as p,g as k,i as w,F as u,k as g,w as E,l as V,t as n,j as T,h as D}from"./index.js";import"./EventBus.js";var h={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const R={class:"vl-parent"},S={key:0,class:"d-flex justify-content-center align-items-center text-center p-5"},A={class:"orderList table table-striped"},B=t("thead",null,[t("tr",null,[t("th",{class:"bg-brown text-gold",scope:"col"},"#"),t("th",{class:"bg-brown text-gold",scope:"col"},"購買時間"),t("th",{class:"bg-brown text-gold",scope:"col"},"Email"),t("th",{class:"bg-brown text-gold",scope:"col"},"購買款項"),t("th",{class:"bg-brown text-gold",scope:"col"},"應付金額"),t("th",{class:"bg-brown text-gold",scope:"col"},"是否付款")])],-1),C={scope:"row"},L={key:0,class:"text-success"},N={key:1},O={key:1,class:"d-flex justify-content-center align-items-center text-center p-5"},P=t("h1",null,"空",-1),j=t("p",null,"您尚未有訂單哦！",-1),F={__name:"purchase",setup(I){m();let a=d(!1);const c=d([]),b=d();function f(){const r=`${h.VITE_APIPATH}/api/${h.VITE_CUSTOMPATH}/orders`;a.value=!0,V.get(r).then(l=>{console.log(l.data),l.data.success?(b.value=l.data.pagination,a.value=!1,c.value=l.data.orders):console.log("erro")})}return y(()=>{f()}),(r,l)=>{const v=_("loading"),x=_("router-link");return s(),o("div",null,[t("div",R,[p(v,{active:k(a),"onUpdate:active":l[0]||(l[0]=e=>w(a)?a.value=e:a=e)},null,8,["active"])]),c.value.length>0?(s(),o("div",S,[t("table",A,[B,t("tbody",null,[(s(!0),o(u,null,g(c.value,e=>(s(),o("tr",{key:e.id},[e.user?(s(),o(u,{key:0},[t("th",C,n(e.num),1),t("td",null,n(r.$mydata.getData(e.create_at)),1),t("td",null,n(e.user.email),1),t("td",null,[t("ul",null,[(s(!0),o(u,null,g(e.products,i=>(s(),o("li",null,n(i.product.title)+" 數量："+n(i.qty),1))),256))])]),t("td",null,n(e.total),1),t("td",null,[e.is_paid?(s(),o("span",L,"已付款")):(s(),o("span",N,"未付"))])],64)):T("",!0)]))),128))])])])):(s(),o("div",O,[P,j,p(x,{to:"/shopping",class:"btn btn-outline-brown w-auto"},{default:E(()=>[D("去逛逛")]),_:1})]))])}}};export{F as default};
