import{u as x,d as u,o as y,e as p,a as s,c as o,b as t,f as _,g as k,i as w,F as d,k as g,w as m,l as N,t as n,j as V,h as j}from"./index.js";import"./EventBus.js";const B={class:"vl-parent"},C={key:0,class:"d-flex justify-content-center align-items-center text-center p-5"},L={class:"orderList table table-striped"},D=t("thead",null,[t("tr",null,[t("th",{class:"bg-brown text-gold",scope:"col"},"#"),t("th",{class:"bg-brown text-gold",scope:"col"},"購買時間"),t("th",{class:"bg-brown text-gold",scope:"col"},"Email"),t("th",{class:"bg-brown text-gold",scope:"col"},"購買款項"),t("th",{class:"bg-brown text-gold",scope:"col"},"應付金額"),t("th",{class:"bg-brown text-gold",scope:"col"},"是否付款")])],-1),E={scope:"row"},F={key:0,class:"text-success"},R={key:1},$={key:1,class:"d-flex justify-content-center align-items-center text-center p-5"},q=t("h1",null,"空",-1),z=t("p",null,"您尚未有訂單哦！",-1),T={__name:"purchase",setup(M){x();let a=u(!1);const c=u([]),h=u();function b(){const r="https://vue-course-api.hexschool.io/api/ozeu/orders";a.value=!0,N.get(r).then(l=>{console.log(l.data),l.data.success?(h.value=l.data.pagination,a.value=!1,c.value=l.data.orders):console.log("erro")})}return y(()=>{b()}),(r,l)=>{const f=p("loading"),v=p("router-link");return s(),o("div",null,[t("div",B,[_(f,{active:k(a),"onUpdate:active":l[0]||(l[0]=e=>w(a)?a.value=e:a=e)},null,8,["active"])]),c.value.length>0?(s(),o("div",C,[t("table",L,[D,t("tbody",null,[(s(!0),o(d,null,g(c.value,e=>(s(),o("tr",{key:e.id},[e.user?(s(),o(d,{key:0},[t("th",E,n(e.num),1),t("td",null,n(r.$mydata.getData(e.create_at)),1),t("td",null,n(e.user.email),1),t("td",null,[t("ul",null,[(s(!0),o(d,null,g(e.products,i=>(s(),o("li",null,n(i.product.title)+" 數量："+n(i.qty),1))),256))])]),t("td",null,n(e.total),1),t("td",null,[e.is_paid?(s(),o("span",F,"已付款")):(s(),o("span",R,"未付"))])],64)):V("",!0)]))),128))])])])):(s(),o("div",$,[q,z,_(v,{to:"/shopping",class:"btn btn-outline-brown w-auto"},{default:m(()=>[j("去逛逛")]),_:1})]))])}}};export{T as default};
